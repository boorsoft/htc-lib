{"version":3,"sources":["utils.js","components/SearchBar.js","components/SingleResult.js","components/Results.js","components/Login.js","components/AdminPanel.js","App.js","serviceWorker.js","index.js"],"names":["apiURL","SearchBar","props","onChange","select","document","querySelector","input","value","placeholder","setState","query","onInputChange","fetch","state","trim","then","res","json","books","passBooks","className","id","type","this","name","defaultValue","React","Component","SingleResult","title","book","author","href","filename","target","Results","map","key","book_id","Login","setToken","token","localStorage","setItem","usernameInput","passwordInput","username","password","submitUser","a","method","headers","body","JSON","stringify","response","status","console","error","onSubmit","e","preventDefault","log","data","redirect","to","AdminPanel","getToken","getItem","logout","clear","teacher","subject","bookToAdd","submitBook","catch","err","formOpen","updateBook","deleteBook","openForm","update","updateForm","bookToUpdateID","closeForm","tokenKey","onClick","style","display","App","path","exact","render","component","Boolean","window","location","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.4fb7991a.chunk.js","sourcesContent":["const apiURL = 'https://htc-lib.herokuapp.com'\n\nexport {\n  apiURL\n}","import React from 'react';\nimport './SearchBar.css';\nimport { apiURL } from '../utils'\n\nexport default class SearchBar extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      query: 'book',\n      books: []\n    }\n\n  }\n  \n  // On select change\n  onChange = () => {\n    const select = document.querySelector('#filter');\n    const input = document.querySelector('#searchInput');\n\n    if (select.value === 'teacher') {\n      input.placeholder = 'Enter the teacher name...';\n    } else if (select.value === 'book') {\n      input.placeholder = 'Enter the book title...';\n    } else if (select.value === 'subject') {\n      input.placeholder = 'Enter the subject name...';\n    }\n\n    this.setState({query: select.value});\n  }\n\n  onInputChange = () => {\n    const input = document.querySelector('#searchInput');\n\n    if (input.value !== '') {\n      fetch(`${apiURL}/api/books?${this.state.query}=${input.value.trim()}`)\n      .then(res => res.json())\n      .then(books => {\n        this.setState({books: books});\n        // console.log('Books', books);\n        this.props.passBooks(books);  // Вызываем метод, который обновляет книги в компоненте App через props\n      });\n    } else {\n      this.setState({books: []});\n    }\n  }\n\n  render() {\n    return(\n      <div className=\"SearchBar\">\n        <div className=\"search-container\">\n          <input id=\"searchInput\" className=\"search-input text-color-black\" type=\"text\" placeholder=\"Enter the book title...\" onChange={this.onInputChange} />\n          <div className=\"select-wrapper\">\n              <select name=\"filter\" id=\"filter\" onChange={this.onChange} defaultValue=\"book\">\n                <option value=\"book\">Book</option>\n                <option value=\"teacher\">Teacher</option>\n                <option value=\"subject\">Subject</option>\n              </select>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import React from 'react';\nimport './Results.css';\n\n// Компонент одного результата\nexport default class SingleResult extends React.Component {\n\n  render() {\n    return(\n      <div className=\"SingleResult\" title={this.props.book.title}>\n        <div className=\"TitlesBox\">\n          <h1 className=\"TitleName\">{this.props.book.title}</h1>\n          <h1 className=\"AuthorName\">{this.props.book.author}</h1>\n        </div>\n        <div className=\"Buttons\">\n          <a title=\"Download the book\" className=\"ButtDownloadFile fas fa-cloud-download-alt\" href={this.props.book.filename + '?export=download'}></a>\n          <a title=\"Open in new TAB\" className=\"ButtOpenNewTab fas fa-external-link-square-alt\" href={this.props.book.filename} target=\"_blank\"></a>\n        </div>\n      </div>\n    );\n  }\n}","import React from 'react';\nimport SingleResult from './SingleResult';\nimport './Results.css';\n\n// Компонент для вывода результатов поиска (книг)\nexport default class Results extends React.Component {\n\n  render() {\n    return(\n      <div className=\"Results\">\n        {/* Проходимся по каждому элементу, и рендерим новый компонет, сколько книг - столько компонентов SingleResult */}\n        {this.props.books.map((book) => \n          <SingleResult key={book.book_id} book={book}></SingleResult>\n        )}\n      </div>\n    );\n  }\n}","import React from 'react'\nimport '../App.css'\nimport './Login.css'\nimport { apiURL } from '../utils'\nimport { Redirect } from 'react-router-dom'\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      username: '',\n      password: '',\n      redirect: false\n    }\n  }\n\n  setToken = (token) => {\n    localStorage.setItem('token', token)\n  }\n\n  onInputChange = () => {\n    const usernameInput = document.querySelector('#username')\n    const passwordInput = document.querySelector('#password')\n\n    this.setState({\n      username: usernameInput.value,\n      password: passwordInput.value\n    })\n  }\n\n\n  // Отправляем POST запрос на сервер\n  submitUser = async () => {\n    const response = await fetch(`${apiURL}/user/login`, \n      {\n        method: 'POST', \n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({username: this.state.username, password: this.state.password})\n      })\n\n    // Если сервер ответил 401 или 404\n    if (response.status === 401 || response.status === 404) {\n      console.error('Authorization failed')\n    }\n    \n    return response.json()\n  }\n\n  // При отправке формы\n  onSubmit = async (e) => {\n    e.preventDefault()\n    console.log('submiting')\n\n    this.submitUser().then(data => {\n      this.setToken(data.token)\n      console.log('Token: ', data.token)\n      this.setState({redirect: true})\n    })\n  }\n\n  render() {\n    const redirect = this.state.redirect\n    if (redirect) return <Redirect to=\"/admin\" />\n\n    return(\n\n      <div className=\"App\">\n        \n        <div className=\"LoginFormContainer\">\n          <form className=\"loginForm\" onSubmit={this.onSubmit}>\n            <div className=\"input-container\">\n              <input id=\"username\" className=\"username text-input\" type=\"text\" placeholder=\"Enter your username...\" onChange={this.onInputChange}/>\n            </div>\n\n            <div className=\"input-container\">\n              <input id=\"password\" className=\"password text-input\" type=\"password\" placeholder=\"Enter your password...\" onChange={this.onInputChange} />\n            </div>\n\n            <div className=\"input-container\">\n              <input type=\"submit\" className=\"submitButton\" value=\"Login\" />\n            </div>\n            \n          </form>\n        </div>\n\n      </div>\n    )\n  }\n}\n\nexport default Login","import React from 'react'\nimport '../App.css'\nimport './AdminPanel.css'\nimport Login from './Login'\nimport { apiURL } from '../utils'\n\nclass AdminPanel extends React.Component {\n    constructor(props) {\n      super(props)\n\n      this.state = {\n        books: [],\n        redirect: false,\n        token: '',\n        formOpen: false,\n        updateForm: false,\n        bookToUpdateID: null,\n        bookToAdd: {\n          title: '',\n          author: '',\n          teacher: '',\n          subject: '',\n          filename: ''\n        }\n      }\n    }\n\n    // метод выполняется после загрузки страницы\n    componentDidMount() {\n\n      // Загрузить книги после загрузки страницы\n      fetch(`${apiURL}/api/books`)\n        .then((res) => res.json())\n        .then((books) => {\n          this.setState({books: books})\n        })\n      \n      const tokenKey = this.getToken()\n\n      this.setState({token: tokenKey}) // назначить токен из localStorage браузера\n      console.log('State', this.state)\n    }\n\n    getToken = () => {\n        const tokenString = localStorage.getItem('token')\n        return tokenString\n    }\n\n    logout = () => {\n      localStorage.clear()\n      this.setState({redirect: false})\n    }\n\n    // Обновлять объект книги для добавления при изменении input\n    onInputChange = () => {\n      const title = document.querySelector('#title')\n      const author = document.querySelector('#author')\n      const teacher = document.querySelector('#teacher')\n      const subject = document.querySelector('#subject')\n      const filename = document.querySelector('#filename')\n\n      this.setState({\n        bookToAdd: {\n          title: title.value,\n          author: author.value,\n          teacher: teacher.value,\n          subject: subject.value,\n          filename: filename.value,\n        }\n      })\n\n    }\n    \n    // Отправить запрос на добавление новой книги\n    submitBook = (e) => {\n      e.preventDefault()\n      \n      fetch(`${apiURL}/api/books`, {\n        method: 'POST',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n          title: this.state.bookToAdd.title,\n          author: this.state.bookToAdd.author,\n          teacher: this.state.bookToAdd.teacher,\n          subject: this.state.bookToAdd.subject,\n          filename: this.state.bookToAdd.filename,\n          token: this.state.token,\n        })\n      }).then((res) => {\n        return res.status\n      }).then((data) => console.log(data))\n        .catch((err) => console.error(err))\n\n      this.setState({formOpen: false, bookToAdd: {\n            title: '',\n            author: '',\n            teacher: '',\n            subject: '',\n            filename: ''\n          }\n        })\n    }\n\n    updateBook = (id) => {\n      fetch(`${apiURL}/api/books/${id}`, {\n        method: 'PUT',\n        headers: {'Content-Type': 'application/json'},\n        body: JSON.stringify({\n          title: this.state.bookToAdd.title,\n          author: this.state.bookToAdd.author,\n          teacher: this.state.bookToAdd.teacher,\n          subject: this.state.bookToAdd.subject,\n          filename: this.state.bookToAdd.filename,\n          token: this.state.token\n        })\n      }).then((res) => {\n        return res.status\n      }).then((data) => console.log(data))\n        .catch((err) => console.error(err))\n    }\n\n    deleteBook = (id) => {\n\n      fetch(`${apiURL}/api/books/${id}`, {\n      method: 'DELETE',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify({\n        token: this.state.token\n      })\n      }).then((res) => {\n        return res.status\n      }).then((data) => console.log(data))\n          .catch((err) => console.error(err))\n      \n    }\n\n    openForm = (update = false, book = {}) => {\n      this.setState({formOpen: true, updateForm: false})\n\n      const title = document.querySelector('#title')\n      const author = document.querySelector('#author')\n      const teacher = document.querySelector('#teacher')\n      const subject = document.querySelector('#subject')\n      const filename = document.querySelector('#filename')\n\n      title.value = ''\n      author.value = ''\n      teacher.value = ''\n      subject.value = ''\n      filename.value = ''\n\n      // Если заполняем форму для обновления\n      if (update) {\n        title.value = book.title\n        author.value = book.author\n        teacher.value = book.teacher\n        subject.value = book.subject\n        filename.value = book.filename\n        this.setState({updateForm: true, bookToUpdateID: book.book_id, bookToAdd: {\n          title: title.value,\n          author: author.value,\n          teacher: teacher.value,\n          subject: subject.value,\n          filename: filename.value\n        }})\n      }\n    }\n\n    closeForm = () => {\n      this.setState({formOpen: false})\n    }\n\n    render() {\n        const token = this.getToken()\n        var formOpen = this.state.formOpen\n    \n        if (!token) {\n            return <Login token={token} />\n        }\n\n        if (this.state.redirect) return <Login />\n\n        return (\n            <div className=\"App\">\n            <div id=\"closer\" onClick={this.closeForm} style={{display: formOpen ? 'block' : 'none'}}></div>\n\n              <div className=\"dashboard-container flex-column\">\n                <div className=\"header-container flex-row\">\n                  <h1 className=\"header-text\">Dashboard</h1>\n                    <i className=\"fas fa-plus icon\" id=\"addBooks\" onClick={() => this.openForm()} />\n                    <i className=\"fa fa-power-off icon\" id=\"logoutButton\" onClick={this.logout} />\n                </div>\n\n                <div className=\"container books-list flex-column\">\n                  <div className=\"books-list-header flex-row\">\n                    <p className=\"booklist-header-text\">Title</p>\n                    <p className=\"booklist-header-text\">Author</p>\n                    <p className=\"booklist-header-text\">Subject</p>\n                    <p className=\"booklist-header-text\">Teacher</p>\n                    <p className=\"booklist-header-text\">Filename</p>\n                  </div>\n                  {this.state.books.map((book) =>\n                    <div className=\"book-element flex-row\" key={book.book_id} book={book} onClick={() => this.openForm(true, book)}>\n                      <p className=\"title-text\">{book.title}</p>\n                      <p className=\"title-text\">{book.author}</p>\n                      <p className=\"title-text\">{book.subject}</p>\n                      <p className=\"title-text\">{book.teacher}</p>\n                      <p className=\"title-text\">{book.filename}</p>\n                    </div>\n                  )}\n                </div>\n\n                <div className=\"add-book-form-container\" style={{display: formOpen ? 'flex' : 'none'}}>\n                  <form className=\"add-book-form flex-column\" onSubmit={this.state.updateForm ? this.updateBook(this.state.bookToUpdateID) : this.submitBook}>\n\n                    <input type=\"text\" name=\"title\" id=\"title\" className=\"input\" placeholder=\"Title\" onChange={this.onInputChange}/>\n                    <input type=\"text\" name=\"author\" id=\"author\" className=\"input\" placeholder=\"Author\" onChange={this.onInputChange}/>\n                    <input type=\"text\" name=\"teacher\" id=\"teacher\" className=\"input\" placeholder=\"Teacher\" onChange={this.onInputChange}/>\n                    <input type=\"text\" name=\"subject\" id=\"subject\" className=\"input\" placeholder=\"Subject\" onChange={this.onInputChange}/>\n                    <input type=\"text\" name=\"filename\" id=\"filename\" className=\"input\" placeholder=\"Filename\" onChange={this.onInputChange}/>\n\n                    <div className=\"flex-row buttons-container\">\n                      <input type=\"submit\" className=\"submitBook\" value={this.state.updateForm ? 'Update' : 'Submit'} />\n                      {this.state.updateForm ? <button className=\"submitBook delete-book\" onClick={this.deleteBook(this.state.bookToUpdateID)}>Delete</button> : null}\n                    </div>\n\n                  </form>\n                </div>\n\n              </div>\n            </div>\n        )\n    }\n}\n\nexport default AdminPanel","import React from 'react';\nimport './App.css';\nimport SearchBar from './components/SearchBar';\nimport Results from './components/Results';\nimport AdminPanel from './components/AdminPanel'\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      books: [] \n    }\n\n  }\n\n  // Получаем книги в этом компоненте с помощью этого метода\n  passBooks = (books) => {\n    this.setState({books: books});\n    console.log(this.state.books);\n  }  \n\n  render() {\n\n    return(\n      <Router>\n\n        <Route path=\"/\" exact render={() =>\n          <div className=\"App\">\n            <SearchBar passBooks={this.passBooks}/> {/* Передаем метод pasBooks через props(атрибуты) */}\n            <Results books={this.state.books}/>\n          </div>\n        }/>\n\n        <Route path=\"/admin\" component={AdminPanel} />\n\n      </Router>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}